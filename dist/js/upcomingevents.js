"use strict";function openInDialog(t){var a="http://sharepoint.matfess.com/sites/MySite/Staffing Dashboard/EditForm.aspx?ID="+t,e=850,i=650,l=!0,n=!0,o=!0,s={url:a,width:e,height:i,allowMaximize:l,showClose:n};console.log(s),o&&(s.dialogReturnValueCallback=Function.createDelegate(null,CloseDialogCallback)),SP.SOD.execute("sp.ui.dialog.js","SP.UI.ModalDialog.showModalDialog",s)}function CloseDialogCallback(t,a){t==SP.UI.DialogResult.OK?matfessStaffing.BuildTable():t==SP.UI.DialogResult.cancel}var matfessStaffing=matfessStaffing||{};matfessStaffing.BuildTable=function(){$("table#example tr").not("thead tr").empty(),$.ajax({url:_spPageContextInfo.siteAbsoluteUrl+"/_api/web/lists/getbytitle('Staffing%20Dashboard')/items?$select=Title,Id,Available,Consultant/Role,Active_x0020_Client/ActiveClient,Probability1,Consultant/Practice_x0020_Area_x0020_2,Probability2,Note,Primary,Secondary&$expand=Consultant,Active_x0020_Client",method:"GET",headers:{Accept:"application/json; odata=verbose"},success:function(t,a){$("#example").dataTable({bDestroy:!0,bProcessing:!0,aLengthMenu:[[25,50,100],[25,50,100]],iDisplayLength:25,aaData:t.d.results,aoColumns:[{mData:"Consultant.Practice_x0020_Area_x0020_2"},{mData:"Title",mRender:function(t,a,e){return"<a href='#' onclick='openInDialog("+e.Id+")'>"+t+"</a>"}},{mData:function(t,a,e){var i="";if(t.Active_x0020_Client.results.length>0)for(var l=0;l<t.Active_x0020_Client.results.length;l++)i=i+t.Active_x0020_Client.results[l].ActiveClient+" ";else i="";return i}},{mData:function(t,a,e){var i=moment(t.Available).utcOffset(-240).format("MM/DD/YY");return i}},{mData:"Primary"},{mData:"Probability1"},{mData:"Secondary"},{mData:"Probability2"},{mData:"Note"}]})},error:matfessStaffing.getUserError})},$(document).ready(function(){matfessStaffing.BuildTable()});